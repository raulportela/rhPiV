<!--

=========================================================
* Argon Dashboard - v1.1.0
=========================================================

* Product Page: https://www.creative-tim.com/product/argon-dashboard
* Copyright 2019 Creative Tim (https://www.creative-tim.com)
* Licensed under MIT (https://github.com/creativetimofficial/argon-dashboard/blob/master/LICENSE.md)

* Coded by Creative Tim

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. -->
<!DOCTYPE html>
<html lang="en">

    <!-- Cabeçalho importado -->
    <head th:include="fragments/head :: head"></head>

    <body class="">
        <nav
            class="navbar navbar-vertical fixed-left navbar-expand-md navbar-light bg-white"
            id="sidenav-main">
            <!--  Nav Left (Menu do lado Esquedo) -->
            <nav th:include="fragments/nav :: nav"></nav>
        </nav>

        <div class="main-content">
            <!--  Nav Up (parte de cima) -->
            <nav th:include="fragments/nav2 :: nav2"></nav>

            <!-- Header -->
            <div class="header bg-gradient-primary pb-8 pt-5 pt-md-8">
                <div class="container-fluid">
                    <div class="header-body">
                        <!-- Card stats -->
                        <div class="row">

                            <div class="col-xl-3 col-lg-6">
                                <div class="card card-stats mb-4 mb-xl-0">
                                    <div class="card-body">
                                        <div class="row">
										<div class="col">
											<h5 class="card-title text-uppercase text-muted mb-0">Funcionarios
												Trabalhando</h5>
											<span class="h2 font-weight-bold mb-0" th:text="${AllFuncionario}">88</span>
										</div>
										<div class="col-auto">
											<div
												class="icon icon-shape bg-danger text-white rounded-circle shadow">
												<i class="fas fa-chart-bar"></i>
											</div>
										</div>
									</div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-3 col-lg-6">
                                <div class="card card-stats mb-4 mb-xl-0">
                                    <div class="card-body">
                                      <div class="row">
										<div class="col">
											<h5 class="card-title text-uppercase text-muted mb-0">Funcionarios Novos 
											</h5>
											<h6 class="card-title text-uppercase text-muted mb-0">Essa Semana
											</h6>
												<span class="h2 font-weight-bold mb-0"  th:text="${AllRecentes}"></span>
										</div>
										<div class="col-auto">
											<div
												class="icon icon-shape bg-warning text-white rounded-circle shadow">
												<i class="fas fa-chart-pie"></i>
											</div>
										</div>
									</div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-3 col-lg-6">
                                <div class="card card-stats mb-4 mb-xl-0">
                                    <div class="card-body">
                                       <div class="row">
										<div class="col">
											<h5 class="card-title text-uppercase text-muted mb-0">Total de Suspensões
												</h5>
											<span class="h2 font-weight-bold mb-0"  th:text="${AllSuspensao}"></span>
										</div>
										<div class="col-auto">
											<div
												class="icon icon-shape bg-yellow text-white rounded-circle shadow">
												<i class="fas fa-chart-line"></i>
											</div>
										</div>
									</div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-3 col-lg-6">
                                <div class="card card-stats mb-4 mb-xl-0">
                                    <div class="card-body">
                                        <div class="row">
										<div class="col">
											<h5 class="card-title text-uppercase text-muted mb-0">Total de Advertências
												</h5>
											<span class="h2 font-weight-bold mb-0" th:text="${AllAdvertencias}"></span>
										</div>
										<div class="col-auto">
											<div
												class="icon icon-shape bg-info text-white rounded-circle shadow">
												<i class="fas fa-percent"></i>
											</div>
										</div>
									</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid mt--7">
                <!-- Table -->
                <div class="row">
                    <div class="col">
                        <div class="card shadow">
                            <div class="row">
                                <div class="col-3">
                                    <div class="card-header border-0">
                                        <h3 class="mb-0">Funcionarios</h3>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="card-header text-center border-0">
                                        <div th:if="${mensagemSucesso != null}"
                                             th:text="${mensagemSucesso}" class="alert alert-success"
                                             role="alert"></div>
                                    </div>
                                </div>
                                <div class="col-3">
                                    <a href="/erp/funcionario/cadastrar">
                                        <button type="button" class="btn btn-primary my-4"
                                                name="novoFuncionario">Novo Funcionario</button>
                                    </a>
                                </div>
                            </div>


                            <div class="table-responsive">
                                <table class="table align-items-center table-flush">
                                    <thead class="thead-light">
                                        <tr>
                                            <th scope="col">Nome</th>
                                            <th scope="col">Departamento</th>
                                            <th scope="col">Status</th>
                                            <th scope="col">Cargo</th>
                                            <th scope="col">Ferias</th>
                                            <th scope="col">Ações</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <!-- tem que fazer um for each aqui -->
                                     
                                        <tr th:each="func, stat:${listaFuncionario}" >
                                            <th scope="row">
                                                
                                                <div class="media align-items-center">
                                                    <a th:href="@{/erp/funcionario/buscar/{id}(id = ${func.id})}">
                                                        <div class="media-body">
                                                        <span class="mb-0 text-sm"></span>
                                                        <p th:text="${func.firstName + ' ' + func.lastName}"
                                                           class="font-weight-normal"></p>
                                                        </div> 
                                                    </a>
                                                </div>
                                            </th>
                                            <td>
                                              <p th:text="${func.departamento}"  class="font-weight-normal"></p>
                                            </td>
                                            <td>
                                                <div th:if="${func.disponivel} == true">
                                                    <span class="badge badge-dot mr-5"> <i
                                                            class="bg-success"></i> Ativo
                                                    </span>
                                                </div>
                                                <div th:if="${func.disponivel} == false">
                                                    <span class="badge badge-dot mr-5"> <i
                                                            class="bg-warning"></i> Inativo
                                                    </span>
                                                </div>

                                            </td>
                                            <td>
                                                <p th:text="${func.cargo}" class="font-weight-normal">Supervisor</p>
                                            </td>
                                            <td>
                                                <div class="d-flex align-items-center">
                                                    <span class="mr-2" th:text="${func.ferias}">%</span>
                                                </div>
                                            </td>
                                            <td class="text-right">
                                                <div class="dropdown">
                                                    <a class="btn btn-sm btn-icon-only text-red" href="#"
                                                       role="button" data-toggle="dropdown" aria-haspopup="true"
                                                       aria-expanded="false"> <i class="fas fa-ellipsis-v"></i>
                                                    </a>
                                                    <div
                                                        class="dropdown-menu dropdown-menu-right dropdown-menu-arrow">
                                                            <a class="dropdown-item"
                                                           th:href="@{/erp/email/funcionario/{id}(id = ${func.id})}">Enviar
                                                            Email</a> <a class="dropdown-item"
                                                                     th:href="@{/erp/advertencia/aplicar/{id}(id = ${func.id})}">Aplicar
                                                            advertência</a> <a class="dropdown-item"
                                                                           th:href="@{/erp/suspensao/aplicar/{id}(id = ${func.id})}">Aplicar
                                                            suspensão</a>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr> 
                                    
                                    </tbody>
                                </table>
                            </div>

                            <!-- modal de email -->
                            <div class="modal fade" id="exampleModal" tabindex="-1"
                                 role="dialog" aria-labelledby="exampleModalLabel"
                                 aria-hidden="true">
                                <div class="modal-dialog" role="document">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h5 class="modal-title" id="exampleModalLabel">Nova
                                                mensagem</h5>
                                            <button type="button" class="close" data-dismiss="modal"
                                                    aria-label="Fechar">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <div class="modal-body" th:object="${email}">
                                            <form th:action="@{/erp/email/enviar}" method="post">
                                                <div class="form-group">
                                                    <label for="recipient-name" class="col-form-label">Destinatario:</label>
                                                    <input type="text" class="form-control"
                                                           id="destinatario-name" Placeholder="Destiantario"
                                                           th:field="*{destinatario}">
                                                </div>
                                                <div class="form-group">
                                                    <label for="recipient-name" class="col-form-label">Assunto:</label>
                                                    <input type="text" class="form-control"
                                                           id="destinatario-name" th:field="*{assunto}">
                                                </div>
                                                <div class="form-group">
                                                    <label for="message-text" class="col-form-label">Mensagem:</label>
                                                    <textarea class="form-control" id="message-text"
                                                              th:field=*{mensagem}></textarea>
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-secondary"
                                                            data-dismiss="modal">Fechar</button>
                                                    <button type="submit" class="btn btn-primary">Enviar</button>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="card-footer py-4">
                                <nav aria-label="...">
                                    <ul class="pagination justify-content-end mb-0">
                                        <li class="page-item disabled"><a class="page-link"
                                                                          href="#" tabindex="-1"> <i class="fas fa-angle-left"></i>
                                                <span class="sr-only">Previous</span>
                                            </a></li>
                                        <li class="page-item active"><a class="page-link" href="#">1</a>
                                        </li>
                                        <li class="page-item"><a class="page-link" href="#">2
                                                <span class="sr-only">(current)</span>
                                            </a></li>
                                        <li class="page-item"><a class="page-link" href="#">3</a></li>
                                        <li class="page-item"><a class="page-link" href="#"> <i
                                                    class="fas fa-angle-right"></i> <span class="sr-only">Next</span>
                                            </a></li>
                                    </ul>
                                </nav>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Dark table -->
                <!--
<div class="row mt-5">
  <div class="col">
    <div class="card bg-default shadow">
      <div class="card-header bg-transparent border-0">
        <h3 class="text-white mb-0">Card tables</h3>
      </div>
      <div class="table-responsive">
        <table class="table align-items-center table-dark table-flush">
          <thead class="thead-dark">
            <tr>
              <th scope="col">Nome</th>
              <th scope="col">Salario</th>
              <th scope="col">Status</th>
              <th scope="col">Users</th>
              <th scope="col">Férias</th>
              <th scope="col"></th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th scope="row">
                <div class="media align-items-center">
                  <a href="#" class="avatar rounded-circle mr-3">
                    <img alt="Image placeholder" th:src="@{/img/theme/bootstrap.jpg}">
                  </a>
                  <div class="media-body">
                    <span class="mb-0 text-sm">Argon Design System</span>
                  </div>
                </div>
              </th>
              <td>
                $2,500 USD
              </td>
              <td>
                <span class="badge badge-dot mr-4">
                  <i class="bg-success"></i> Ativo
                </span>
              </td>
              <td>
                <div class="avatar-group">
                  <a href="#" class="avatar avatar-sm" data-toggle="tooltip" data-original-title="Ryan Tompson">
                    <img alt="Image placeholder" th:src="@{/img/theme/team-1-800x800.jpg}" class="rounded-circle">
                  </a>
                  <a href="#" class="avatar avatar-sm" data-toggle="tooltip" data-original-title="Romina Hadid">
                    <img alt="Image placeholder" th:src="@{/img/theme/team-2-800x800.jpg}" class="rounded-circle">
                  </a>
                  <a href="#" class="avatar avatar-sm" data-toggle="tooltip" data-original-title="Alexander Smith">
                    <img alt="Image placeholder" th:src="@{/img/theme/team-3-800x800.jpg}" class="rounded-circle">
                  </a>
                  <a href="#" class="avatar avatar-sm" data-toggle="tooltip" data-original-title="Jessica Doe">
                    <img alt="Image placeholder" th:src="@{/img/theme/team-4-800x800.jpg}" class="rounded-circle">
                  </a>
                </div>
              </td>
              <td>
                <div class="d-flex align-items-center">
                  <span class="mr-2">60%</span>
                  <div>
                    <div class="progress">
                      <div class="progress-bar bg-warning" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;"></div>
                    </div>
                  </div>
                </div>
              </td>
              <td class="text-right">
                <div class="dropdown">
                  <a class="btn btn-sm btn-icon-only text-light" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <i class="fas fa-ellipsis-v"></i>
                  </a>
                  <div class="dropdown-menu dropdown-menu-right dropdown-menu-arrow">
                    <a class="dropdown-item" href="#">Action</a>
                    <a class="dropdown-item" href="#">Another action</a>
                    <a class="dropdown-item" href="#">Something else here</a>
                  </div>
                </div>
              </td>
            </tr>
            <tr>
              <th scope="row">
                <div class="media align-items-center">
                  <a href="#" class="avatar rounded-circle mr-3">
                    <img alt="Image placeholder" th:src="@{/img/theme/angular.jpg}">
                  </a>
                  <div class="media-body">
                    <span class="mb-0 text-sm">Angular Now UI Kit PRO</span>
                  </div>
                </div>
              </th>
              <td>
                $1,800 USD
              </td>
              <td>
                <span class="badge badge-dot">
                  <i class="bg-success"></i> Ativo
                </span>
              </td>
              <td>
                <div class="avatar-group">
                  <a href="#" class="avatar avatar-sm" data-toggle="tooltip" data-original-title="Ryan Tompson">
                    <img alt="Image placeholder" th:src="@{/img/theme/team-1-800x800.jpg" class="rounded-circle}">
                  </a>
                  <a href="#" class="avatar avatar-sm" data-toggle="tooltip" data-original-title="Romina Hadid}">
                    <img alt="Image placeholder" th:src="@{/img/theme/team-2-800x800.jpg" class="rounded-circle">
                  </a>
                  <a href="#" class="avatar avatar-sm" data-toggle="tooltip" data-original-title="Alexander Smith">
                    <img alt="Image placeholder" th:src="@{/img/theme/team-3-800x800.jpg" class="rounded-circle}">
                  </a>
                  <a href="#" class="avatar avatar-sm" data-toggle="tooltip" data-original-title="Jessica Doe">
                    <img alt="Image placeholder" th:src="@{/img/theme/team-4-800x800.jpg" class="rounded-circle}">
                  </a>
                </div>
              </td>
              <td>
                <div class="d-flex align-items-center">
                  <span class="mr-2">100%</span>
                  <div>
                    <div class="progress">
                      <div class="progress-bar bg-success" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%;"></div>
                    </div>
                  </div>
                </div>
              </td>
              <td class="text-right">
                <div class="dropdown">
                  <a class="btn btn-sm btn-icon-only text-light" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <i class="fas fa-ellipsis-v"></i>
                  </a>
                  <div class="dropdown-menu dropdown-menu-right dropdown-menu-arrow">
                    <a class="dropdown-item" href="#">Action</a>
                    <a class="dropdown-item" href="#">Another action</a>
                    <a class="dropdown-item" href="#">Something else here</a>
                  </div>
                </div>
              </td>
            </tr>
            <tr>
              <th scope="row">
                <div class="media align-items-center">
                  <a href="#" class="avatar rounded-circle mr-3">
                    <img alt="Image placeholder" th:src="@{/img/theme/sketch.jpg}">
                  </a>
                  <div class="media-body">
                    <span class="mb-0 text-sm">Black Dashboard</span>
                  </div>
                </div>
              </th>
              <td>
                $3,150 USD
              </td>
              <td>
                <span class="badge badge-dot mr-4">
                  <i class="bg-success"></i> Ativo
                </span>
              </td>
              <td>
                <div class="avatar-group">
                  <a href="#" class="avatar avatar-sm" data-toggle="tooltip" data-original-title="Ryan Tompson">
                    <img alt="Image placeholder" th:src="@{/img/theme/team-1-800x800.jpg}" class="rounded-circle">
                  </a>
                  <a href="#" class="avatar avatar-sm" data-toggle="tooltip" data-original-title="Romina Hadid">
                    <img alt="Image placeholder" th:src="@{/img/theme/team-2-800x800.jpg}" class="rounded-circle">
                  </a>
                  <a href="#" class="avatar avatar-sm" data-toggle="tooltip" data-original-title="Alexander Smith">
                    <img alt="Image placeholder" th:src="@{/img/theme/team-3-800x800.jpg}" class="rounded-circle">
                  </a>
                  <a href="#" class="avatar avatar-sm" data-toggle="tooltip" data-original-title="Jessica Doe">
                    <img alt="Image placeholder" th:src="@{/img/theme/team-4-800x800.jpg}" class="rounded-circle">
                  </a>
                </div>
              </td>
              <td>
                <div class="d-flex align-items-center">
                  <span class="mr-2">72%</span>
                  <div>
                    <div class="progress">
                      <div class="progress-bar bg-danger" role="progressbar" aria-valuenow="72" aria-valuemin="0" aria-valuemax="100" style="width: 72%;"></div>
                    </div>
                  </div>
                </div>
              </td>
              <td class="text-right">
                <div class="dropdown">
                  <a class="btn btn-sm btn-icon-only text-light" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <i class="fas fa-ellipsis-v"></i>
                  </a>
                  <div class="dropdown-menu dropdown-menu-right dropdown-menu-arrow">
                    <a class="dropdown-item" href="#">Action</a>
                    <a class="dropdown-item" href="#">Another action</a>
                    <a class="dropdown-item" href="#">Something else here</a>
                  </div>
                </div>
              </td>
            </tr>
            <tr>
              <th scope="row">
                <div class="media align-items-center">
                  <a href="#" class="avatar rounded-circle mr-3">
                    <img alt="Image placeholder" th:src="@{/img/theme/react.jpg}">
                  </a>
                  <div class="media-body">
                    <span class="mb-0 text-sm">React Material Dashboard</span>
                  </div>
                </div>
              </th>
              <td>
                $4,400 USD
              </td>
              <td>
                <span class="badge badge-dot">
                  <i class="bg-success"></i> Ativo
                </span>
              </td>
              <td>
                <div class="avatar-group">
                  <a href="#" class="avatar avatar-sm" data-toggle="tooltip" data-original-title="Ryan Tompson">
                    <img alt="Image placeholder" th:src="@{/img/theme/team-1-800x800.jpg}" class="rounded-circle">
                  </a>
                  <a href="#" class="avatar avatar-sm" data-toggle="tooltip" data-original-title="Romina Hadid">
                    <img alt="Image placeholder" th:src="@{/img/theme/team-2-800x800.jpg}" class="rounded-circle">
                  </a>
                  <a href="#" class="avatar avatar-sm" data-toggle="tooltip" data-original-title="Alexander Smith">
                    <img alt="Image placeholder" th:src="@{/img/theme/team-3-800x800.jpg}" class="rounded-circle">
                  </a>
                  <a href="#" class="avatar avatar-sm" data-toggle="tooltip" data-original-title="Jessica Doe">
                    <img alt="Image placeholder" th:src="@{/img/theme/team-4-800x800.jpg}" class="rounded-circle">
                  </a>
                </div>
              </td>
              <td>
                <div class="d-flex align-items-center">
                  <span class="mr-2">90%</span>
                  <div>
                    <div class="progress">
                      <div class="progress-bar bg-info" role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100" style="width: 90%;"></div>
                    </div>
                  </div>
                </div>
              </td>
              <td class="text-right">
                <div class="dropdown">
                  <a class="btn btn-sm btn-icon-only text-light" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <i class="fas fa-ellipsis-v"></i>
                  </a>
                  <div class="dropdown-menu dropdown-menu-right dropdown-menu-arrow">
                    <a class="dropdown-item" href="#">Action</a>
                    <a class="dropdown-item" href="#">Another action</a>
                    <a class="dropdown-item" href="#">Something else here</a>
                  </div>
                </div>
              </td>
            </tr>
            <tr>
              <th scope="row">
                <div class="media align-items-center">
                  <a href="#" class="avatar rounded-circle mr-3">
                    <img alt="Image placeholder" th:src="@{/img/theme/vue.jpg}">
                  </a>
                  <div class="media-body">
                    <span class="mb-0 text-sm">Vue Paper UI Kit PRO</span>
                  </div>
                </div>
              </th>
              <td>
                $2,200 USD
              </td>
              <td>
                <span class="badge badge-dot mr-4">
                  <i class="bg-success"></i> completed
                </span>
              </td>
              <td>
                <div class="avatar-group">
                  <a href="#" class="avatar avatar-sm" data-toggle="tooltip" data-original-title="Ryan Tompson">
                    <img alt="Image placeholder" th:src="@{/img/theme/team-1-800x800.jpg}" class="rounded-circle">
                  </a>
                  <a href="#" class="avatar avatar-sm" data-toggle="tooltip" data-original-title="Romina Hadid">
                    <img alt="Image placeholder" th:src="@{/img/theme/team-2-800x800.jpg}" class="rounded-circle">
                  </a>
                  <a href="#" class="avatar avatar-sm" data-toggle="tooltip" data-original-title="Alexander Smith">
                    <img alt="Image placeholder" th:src="@{/img/theme/team-3-800x800.jpg}" class="rounded-circle">
                  </a>
                  <a href="#" class="avatar avatar-sm" data-toggle="tooltip" data-original-title="Jessica Doe">
                    <img alt="Image placeholder" th:src="@{/img/theme/team-4-800x800.jpg}" class="rounded-circle">
                  </a>
                </div>
              </td>
              <td>
                <div class="d-flex align-items-center">
                  <span class="mr-2">100%</span>
                  <div>
                    <div class="progress">
                      <div class="progress-bar bg-success" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%;"></div>
                    </div>
                  </div>
                </div>
              </td>
              <td class="text-right">
                <div class="dropdown">
                  <a class="btn btn-sm btn-icon-only text-light" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <i class="fas fa-ellipsis-v"></i>
                  </a>
                  <div class="dropdown-menu dropdown-menu-right dropdown-menu-arrow">
                    <a class="dropdown-item" href="#">Action</a>
                    <a class="dropdown-item" href="#">Another action</a>
                    <a class="dropdown-item" href="#">Something else here</a>
                  </div>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div> -->

                <!-- Footer -->
                <footer th:include="fragments/footer :: footer"></footer>
            </div>
        </div>
        <!-- Scripts-->
        <div th:include="fragments/scripts :: scripts"></div>
    </body>

</html>
